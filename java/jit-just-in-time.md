# JIT(Just In Time) 컴파일러

바이트코드 인터프리터가 가상화한 스택 머신에서 명령어를 실행하며 시작된다.



인터프리팅 방식은 매번 한줄한줄 해석해 실행해야 하는데, 이 때 중복된 코드를 매번 해석하는 작업은 비효율적이다.

때문에 이러한 비효율적인 작업을 최적화하기 위해 JVM은 JIT 컴파일러를 활용한다.



**JIT 컴파일**은 크게 2가지 방식이 존재하는데, HotSpot VM처럼 자주 사용하는 **메소드 단위로 JIT 컴파일** 하는 방식과 Tracing JIT처럼 더 작은 단위의 **코드 단위로 JIT 컴파일**하는 방식으로 분류할 수 있다.

* **메소드 단위 JIT 컴파일**은 컴파일 시에 전체 코드를 분석하지 않기 때문에 코드 단위 JIT 컴파일에 비해 **컴파일 속도가 빠르며 메모리 사용량도 적으며** 자주 실행되는 메서드를 최적화할 수 있기 때문에 프로그램의 **전체 성능을 향상** 시키기 유리하다.
* **코드 단위 JIT 컴파일**은 **컴파일에 드는 오버헤드가 크며** **메모리 사용량이 높은** 대신 컴파일에 전체 코드를 분석하기 때문에 컴파일 시 **더 높은 수준의 최적화**를 달성할 수 있다는 장점이 있다. 때문에 자주 사용되는 코드가 적고, 최적화가 중요한 경우 코드 단위 컴파일이 효과적일 수 있다.

JVM은 일반적으로 메소드 단위 JIT 컴파일을 사용한다.



메소드 단위 JIT 컴파일은 앞서 설명한 것처럼 자주 실행되는 메소드를 핫스팟으로 지정하고, 해당 메소드를 기계어로 컴파일해두어 매번 인터프리팅(해석)할 필요 없도록 최적화하여 효율성을 높인다.
