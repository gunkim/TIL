# 네트워크 시작하기

## 프로토콜

통신할 때의 규약

- 물리적 측면: 데이터 전송 매체, 신호 규약, 회선 규격 등. 이더넷이 널리 쓰임
- 논리적 측면: 장치들끼리 통신하기 위한 프로토콜 규격. TCP/IP가 널리 쓰임

## OSI 7계층

네트워크 동작을 나누어 이해하고 개발하는데 많은 도움이 되므로 주요 레퍼런스 모델로 활용된다.

### OSI 7 레퍼런스 모델

| 계층                      | 데이터      |
|-------------------------|----------|
| 애플리케이션 계층(Application)  | Data     |
| 프레젠테이션 계층(Presentation) | Data     |
| 세션 계층(Session)          | Data     |
| 트랜스포트 계층(Transport)     | Segments |
| 네트워크 계층(Network)        | Packets  |
| 데이터 링크 계층(Data Link)    | Frames   |
| 피지컬 계층(Physical)        | Bits     |

### OSI 7계층은 두 계층으로 나눌 수 있다.

계층의 역할과 목표에 따라 분류한 것이다.

- 애플리케이션 개발자 - 애플리케이션 프로토콜 개발 시 하위 데이터 플로 계층 고려하지 않고, 데이터를 표현하는데 초점을 맞춤
- 네트워크 엔지니어 - 애플리케이션 프로토콜은 애플리케이션 개발자가 고려할 영역이므로 심각하게 고려하지 않음

때문에 애플리케이션 개발자는 하향식(Top-Down), 네트워크 엔지니어는 상향식(Bottom-Up) 방식으로 네트워크를 바라본다.

<table>
    <thead>
        <tr>
            <th>계층</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>애플리케이션 계층(Application)</td>
            <td rowspan="3">애플리케이션 계층 / 상위 계층</td>
        </tr>
        <tr>
            <td>프레젠테이션 계층(Presentation)</td>
        </tr>
        <tr>
            <td>세션 계층(Session)</td>
        </tr>
        <tr>
            <td>트랜스포트 계층(Transport)</td>
            <td rowspan="4">데이터 플로 계층 / 하위 계층</td>
        </tr>
        <tr>
            <td>네트워크 계층(Network)</td>
        </tr>
        <tr>
            <td>데이터 링크 계층(Data Link)</td>
        </tr>
        <tr>
            <td>피지컬 계층(Physical)</td>
        </tr>
    </tbody>
</table>

## TCP/IP 프로토콜 스택

- 현대 네트워크는 대부분 TCP/IP 프로토콜 스택 기반으로 되어있음.
- 이론보다 실용성에 중점을 둔 것이 특징.

OSI 레퍼런스 모델은 7계층으로 이루어진 반면, TCP/IP 모델은 4계층으로 구분함. OSI 7계층을 두 계층으로 나눈 것과 같이 구분을 더 확연하게 나누었다.

현실에 쉽게 반영하도록 간단히 구분한 것이다.
<table>
    <thead>
        <tr>
            <th>계층</th>
            <th>TCP/IP 모델</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>애플리케이션 계층(Application)</td>
            <td rowspan="3">애플리케이션 계층 / 상위 계층</td>
        </tr>
        <tr>
            <td>프레젠테이션 계층(Presentation)</td>
        </tr>
        <tr>
            <td>세션 계층(Session)</td>
        </tr>
        <tr>
            <td>트랜스포트 계층(Transport)</td>
            <td>트랜스포트 계층(Transport)</td>
        </tr>
        <tr>
            <td>네트워크 계층(Network)</td>
            <td>인터넷</td>
        </tr>
        <tr>
            <td>데이터 링크 계층(Data Link)</td>
            <td rowspan="2">네트워크 액세스(Network Access)</td>
        </tr>
        <tr>
            <td>피지컬 계층(Physical)</td>
        </tr>
    </tbody>
</table>

## OSI 7 계층별 이해

### 1계층(피지컬 계층)

- 물리적 연결과 관련된 정보를 정의한다.
- 들어온 전기 신호를 그대로 잘 전달하는 것이 목적이므로 전기 신호가 1계층 장비에 들어오면 이 전기 신호를 재생성하여 내보냄.
- 1계층 장비는 주소 개념이 없어 전기 신호가 들어온 포트를 제외하고 모든 포트에 같은 전기신호르 전송

#### 주요 장비

<table>
    <thead>
        <tr>
            <th>장비</th>
            <th>역할</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>허브(Hub)</td>
            <td rowspan="2">네트워크 통신을 중재</td>
        </tr>
        <tr>
            <td>리피터(Repeater)</td>
        </tr>
        <tr>
            <td>케이블(Cable)</td>
            <td rowspan="2">케이블 본체를 구성하는 요소</td>
        </tr>
        <tr>
            <td>커넥터(Connector)</td>
        </tr>
        <tr>
            <td>트랜시버(Tranceiver)</td>
            <td>컴퓨터의 랜카드와 케이블을 연결</td>
        </tr>
        <tr>
            <td>탭(Tap)</td>
            <td>네트워크 모니터링과 패킷 분석을 위해 전기 신호를 다른 장비로 복제</td>
        </tr>
    </tbody>
</table>

### 2계층(데이터 링크 계층)
- 전기 신호를 모아 사람이 알아볼 수 있는 데이터 형태로 처리한다.
- 1계층과 다르게 전기 신호를 정확히 전달하기 보다 주소 정보를 정의하고, 정확한 주소로 통신되도록 하는데 초점이 맞춰짐
- 출발지와 도착지 주소를 확인하고 내게 보낸 것이 맞는지, 또는 내가 처리해야 하는지에 대해 검사 후 데이터 처리를 수행

과거에는 신뢰할 수 없는 미디어를 통한 통신이 많아 에러를 탐지/수정, 재전송했지만, 이더넷 기반 네트워크에서는 에러를 탐지하는 역할만 수행한다.

주소 체계가 생긴다는 의미는 동시에 여러 명과 통신할 수 있다는 것이므로 무작정 데이터를 던지는 것이 아닌,
받는 사람이 현재 데이터를 받을 수 있는지 확인하는 작업부터 해야 하는데, 이 역할을 `플로 컨트롤(Flow Control)`이라고 한다.

